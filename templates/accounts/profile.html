{% extends 'base.html' %}
{% load static %}

{% block title %}Hồ sơ cá nhân - JobFast{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/accounts.css' %}">
{% endblock %}

{% block content %}
<div class="profile-header">
    <div class="container">
        <h1>Hồ sơ cá nhân</h1>
        <p>Cập nhật thông tin cá nhân của bạn</p>
    </div>
</div>

<div class="profile-container">
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Thông tin cơ bản -->
        <div class="profile-card">
            <h3>Thông tin cơ bản</h3>
            
            <div class="avatar-section">
                <div class="avatar-preview">
                    {% if profile.avatar %}
                        <img src="{{ profile.avatar.url }}" alt="Avatar">
                    {% else %}
                        {{ user.first_name|slice:":1"|upper|default:user.username|slice:":1"|upper }}
                    {% endif %}
                </div>
                <div>
                    <input type="file" name="avatar" id="avatar" accept="image/*" style="display: none;">
                    <label for="avatar" class="btn btn-secondary" style="cursor: pointer;">
                        Đổi ảnh đại diện
                    </label>
                    <p class="help-text">Khuyến nghị: Ảnh vuông, tối thiểu 200x200px</p>
                </div>
            </div>
            
            <div class="form-group">
                <label>Tên người dùng</label>
                <input type="text" value="{{ user.get_full_name|default:user.username }}" disabled>
            </div>
            
            <div class="form-group">
                <label>Email</label>
                <input type="email" value="{{ user.email }}" disabled>
            </div>
            
            <div class="form-group">
                <label for="phone">Số điện thoại</label>
                <input type="tel" name="phone" id="phone" value="{{ profile.phone|default:'' }}" placeholder="Ví dụ: 0912345678">
            </div>
        </div>
        
        <!-- Giới thiệu bản thân -->
        <div class="profile-card">
            <h3>Giới thiệu bản thân</h3>
            
            <div class="form-group">
                <label for="bio">Bio / Giới thiệu</label>
                <textarea name="bio" id="bio" placeholder="Viết vài dòng giới thiệu về bản thân, kinh nghiệm làm việc, định hướng nghề nghiệp...">{{ profile.bio|default:'' }}</textarea>
            </div>
        </div>
        
        <div style="text-align: center;">
            <p class="help-text">Bấm "Lưu thay đổi", bạn đồng ý rằng tất cả thông tin trên sẽ được tự động điền khi bạn ứng tuyển công việc.</p>
            <br>
            <button type="submit" class="btn-save">
                Lưu thay đổi
            </button>
        </div>
    </form>
</div>
{% endblock %}